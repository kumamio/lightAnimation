<!DOCTYPE html>
<html> 
<head> 
<title>index_three</title> 
<script type="text/javascript" src="jquery-1.6.4.js"></script>
<link rel="stylesheet" type="text/css" href="lightandcolor.css">
<script type="text/javascript" src="utils.js"></script>
</head>
<body > 
<canvas id="cover"></canvas>
<canvas id="cut"></canvas>
<div class="scenes">
	<div class="scene scene_city">
		<canvas id="scene_city"></canvas>
	</div>
	<div class="scene scene_country">
		<canvas id="scene_country"></canvas>
	</div>

</div>

<script type="text/javascript">

	var clientW = window.innerWidth;
	var clientH = window.innerHeight;

	var cover=document.getElementById("cover");
	var cut=document.getElementById("cut");

	$("body").css({"font-size":clientW/100+"px","width":clientW+"px","height":clientH+"px"});

	if (cover) {

		cover.width = clientW;
		cover.height = clientH;

		var ctx = cover.getContext("2d");
		ctx.moveTo(clientW/2,clientH/2);
		ctx.fillStyle = '#444';
		ctx.fillRect(0,0,clientW,clientW);
		ctx.textAlign="center";

		ctx.font=clientW/4+"px Impact";
		ctx.textBaseline="middle";
		ctx.globalCompositeOperation = 'destination-out';
		ctx.fillText("color",clientW/2,clientH/2);


	};

	if (cut) {

		cut.width = clientW;
		cut.height = clientH;
		
		var ctxCircle = cut.getContext("2d");
		cut.addEventListener('mousedown',function(event){
			var x = event.pageX;
			var y = event.pageY;
			var radius = 0;
			(function drawCircle() {
				radius = (radius+1)*1.05;
				ctxCircle.arc(event.pageX, event.pageY, radius, 0, 2 * Math.PI);
				ctxCircle.fillStyle = '#000';
				ctxCircle.fill();
				if (radius<=clientW) {
					setTimeout(function(){
						requestAnimationFrame(drawCircle);
					},10)
				}
			})();

		},false)

	};






</script>


</body>
</html> 


